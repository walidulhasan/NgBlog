
<main class="pt-50" style="background-color: #f7f8f9;">
  <section *ngIf="showLoading" style="margin-bottom: 35px;">
    <mat-spinner style="margin:0 auto"></mat-spinner>
  </section>
  <div class="container" *ngIf="showLoading == false">
    <div class="row">
      <div class="col-12">
        <div class="author-bio mb-50 bg-white p-30 border-radius-10">
          <div class="author-image mb-30"><img src="{{getCommenterPic(authorDetails.email)}}" alt=""
                class="avatar" /></div>
          <div class="author-info">
            <h3 class="font-weight-900"><span class="vcard author"><span class="fn">{{authorDetails.name}}</span></span></h3>
            <h5 class="text-muted">About author</h5>
            <div class="author-description text-muted">{{authorDetails.about}}</div>
          </div>
        </div>
      </div>
    </div>
    <section *ngIf="showLoadingPosts" style="margin-bottom: 35px;">
      <mat-spinner style="margin:0 auto"></mat-spinner>
    </section>
    <div class="row" *ngIf="showLoadingPosts == false && postsByAuthor.length > 0">
      <div class="col-lg-12">
        <div class="post-module-2">
          <div class="widget-header-2 position-relative mb-30  wow fadeInUp animated">
            <h5 class="mt-5 mb-30">Posted by <strong>{{authorDetails.name}}</strong></h5>
          </div>
          <div class="loop-list loop-list-style-1">
            <div class="row">

              <article class="col-md-4 mb-40 wow fadeInUp  animated" *ngFor="let p of postsByAuthor.slice(0,3)">
                <div class="post-card-1 border-radius-10 hover-up">
                  <div class="post-thumb thumb-overlay img-hover-slide position-relative"
                  [ngStyle]="{'background-image': 'url(http://localhost:6643/Images/'+ p.imageName +')'}">
                  <a class="img-link" href="/post/{{p.slug}}"></a>
                    <ul class="social-share">
                      <li><a href="index.html#"><fa-icon [icon]="share"></fa-icon></a></li>
                      <li><a class="fb" title="Share on Facebook" target="_blank" href="index.html#">
                        <fa-icon [icon]="facebook"></fa-icon>
                      </a></li>
                      <li><a class="tw" target="_blank" title="Tweet now" href="index.html#">
                        <fa-icon [icon]="twitter"></fa-icon>
                      </a></li>
                      <li><a class="pt" target="_blank" title="Pin it" href="index.html#">
                        <fa-icon [icon]="pin"></fa-icon>
                      </a></li>
                    </ul>
                  </div>
                  <div class="post-content p-30">
                    <div class="entry-meta meta-0 font-small mb-10">
                      <a href="/category/{{p.category.title}}" class="has-dot"><span class="post-cat text-info">{{p.category.title}}</span></a>
                      By: <a href="/author/{{p.author.name}}"><span class="post-cat text-success">{{p.author.name}}</span></a>
                    </div>
                    <div class="d-flex post-card-content">
                      <h5 style="max-height: 50px; overflow: hidden;padding-bottom: 2px;" class="post-title mb-10 font-weight-900"><a href="/post/{{p.slug}}">{{p.title}}</a></h5>
                      <div class="post-excerpt font-small text-muted pb-15" [innerHTML]="p.body.substring(0,80)">

                      </div>
                      <div class="entry-meta meta-1 float-left font-x-small text-uppercase">
                        <span class="post-on">{{p.createdAt | date}}</span><span class="time-reading has-dot">{{NumCeil(p.body.length / 200)}} mins read</span><span
                          class="post-by has-dot">{{p.views}} view<span *ngIf="p.views > 1">s</span></span>
                      </div>
                    </div>
                  </div>
                </div>
              </article>

            </div>
          </div>
        </div>
        <div class="post-module-3">
          <div class="loop-list loop-list-style-1">

            <article class="hover-up-2 transition-normal wow fadeInUp animated"  *ngFor="let p of postsByAuthor.slice(3,postsByAuthor.length)">
              <div class="row mb-40 list-style-2">
                <div class="col-md-4">
                  <div class="post-thumb position-relative border-radius-5">
                    <div class="img-hover-slide border-radius-5 position-relative"
                    [ngStyle]="{'background-image': 'url(http://localhost:6643/Images/'+ p.imageName +')'}"><a class="img-link"
                        href="single"></a></div>
                    <ul class="social-share">
                      <li><a href="index.html#"><fa-icon [icon]="share"></fa-icon></a></li>
                      <li><a class="fb" title="Share on Facebook" target="_blank" href="index.html#">
                        <fa-icon [icon]="facebook"></fa-icon>
                      </a></li>
                      <li><a class="tw" target="_blank" title="Tweet now" href="index.html#">
                        <fa-icon [icon]="twitter"></fa-icon>
                      </a></li>
                      <li><a class="pt" target="_blank" title="Pin it" href="index.html#">
                        <fa-icon [icon]="pin"></fa-icon>
                      </a></li>
                    </ul>
                  </div>
                </div>
                <div class="col-md-8 align-self-center">
                  <div class="post-content">
                    <div class="entry-meta meta-0 font-small mb-10"><a href="/category/{{p.category.title}}"><span
                          class="post-cat text-primary">{{p.category.title}}</span></a></div>
                    <h5 class="post-title font-weight-900 mb-10"><a href="/post/{{p.slug}}">{{p.title}}</a></h5>
                    <div class="post-excerpt font-small text-muted mb-10" [innerHTML]="p.body.substring(0,200)">

                    </div>
                    <div class="entry-meta meta-1 float-left font-x-small text-uppercase">
                      <span class="post-on">{{p.createdAt | date}}</span><span class="time-reading has-dot">{{NumCeil(p.body.length / 200)}} mins read</span><span
                        class="post-by has-dot">{{p.views}} view<span *ngIf="p.views > 1">s</span></span>
                    </div>
                  </div>
                </div>
              </div>
            </article>

          </div>
        </div>
      </div>
    </div>
  </div>
</main>
