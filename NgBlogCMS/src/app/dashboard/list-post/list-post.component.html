
<section class="w-97">
  <h2 class="docs-header-link uppercase mt-10">
    All Blog Posts
    <a href="dashboard/blog/create" mat-raised-button color="primary" class="fr">
      <mat-icon class="add">add</mat-icon> Add Post
    </a>
  </h2>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <!-- Id Column -->
      <ng-container matColumnDef="PostsId">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let element" style="width: 7%;"> {{element.postsId}} </td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="Title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element" style="width: 20%;"> {{element.title}} </td>
      </ng-container>

      <!-- Body Column -->
      <ng-container matColumnDef="Body">
        <th mat-header-cell *matHeaderCellDef> Body </th>
        <td mat-cell *matCellDef="let element" [innerHTML]="element.body.substring(0,80)"> ... </td>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="ImageName">
        <th mat-header-cell *matHeaderCellDef> Image </th>
        <td mat-cell *matCellDef="let element" style="width: 7%;"> <img class="img" src="http://localhost:6643/Images/{{element.imageName}}" alt="{{element.imageName}}"> </td>
      </ng-container>

      <!-- Author Column -->
      <ng-container matColumnDef="Author">
          <th mat-header-cell *matHeaderCellDef> Author </th>
          <td mat-cell *matCellDef="let element" style="width: 13%;"> {{element.author.name}} </td>
        </ng-container>

      <!-- Category Column -->
      <ng-container matColumnDef="Category">
        <th mat-header-cell *matHeaderCellDef> Category </th>
        <td mat-cell *matCellDef="let element" style="width: 13%;"> {{element.category.title}} </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element" style="width: 13%;">
          <a [routerLink]="['/dashboard/blog/edit',element.slug]">
            <button mat-fab color="primary" aria-label="delete icon">
              <mat-icon>edit</mat-icon>
            </button>
          </a>
          <button (click)="DeletePost(element.postsId)" mat-fab color="warn" aria-label="delete icon">
            <mat-icon>delete</mat-icon>
          </button>
          <a href="/post/{{element.slug}}" target="_blank">
            <button mat-fab color="accent" aria-label=" delete icon">
              <mat-icon>remove_red_eye</mat-icon>
            </button>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
    <mat-card>
      <mat-paginator [pageSizeOptions]="[3, 5, 10, 50]" [pageSize]="3" showFirstLastButtons></mat-paginator>
    </mat-card>

</section>
